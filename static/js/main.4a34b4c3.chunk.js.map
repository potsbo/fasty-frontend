{"version":3,"sources":["TypeTask.tsx","courses/index.ts","Keyboard.tsx","Lesson.tsx","CourseView.tsx","VirtualKeyboard.tsx","App.tsx","index.tsx"],"names":["State","abcd","title","description","lessons","sentences","focusKeys","LayoutName","getColor","s","Inactive","Active","Done","UserInput","accepted","missTyped","concatinated","backspace","length","slice","add","char","valid","getAccepted","replace","getMissTyped","isEmpty","clone","u","lowers","Array","from","_","i","String","fromCharCode","charCodeAt","uppers","trapKeys","concat","TypeTask","props","useState","typed","setTyped","useKeypress","state","current","event","metaKey","ctrlKey","challenge","key","sentence","startsWith","useEffect","done","cardRef","useRef","scrollIntoView","behavior","block","TaskCard","theme","ref","total","index","style","color","TaskSpan","Cursor","Placeholder","styled","span","div","getOpacity","flashing","keyframes","p","Lesson","lessonId","useParams","id","parseInt","lessonData","course","setIndex","Set","doneIdx","setDoneIdx","undefined","nextTask","idx","tasks","map","has","stringToKeys","split","face","qwerty","rows","rowIndex","keys","dvorak","lrdvorak","ldvorak","rdvorak","layouts","Map","Dvorak","Qwerty","LDvorak","RDvorak","LRDvorak","Keyboard","layoutConfig","get","layout","r","k","KeyView","active","activeKeys","toLowerCase","RowView","courses","CourseView","courseSlug","previewIdFromQuery","URLSearchParams","useLocation","search","useRouteMatch","path","url","previewLesson","setPreviewLesson","history","useHistory","lessonList","l","previewState","Li","RoundBar","onClick","lesson","FlexSpan","Circle","RoundButton","push","TaskPreview","width","margin","marginBottom","Center","exact","Ul","to","li","ul","button","symbols","VirtualKeyboard","logicalLayout","setLogicalLayout","physicalLayout","setPhysicalLayout","setActiveKeys","convert","useMemo","fromLayout","toLayout","row","column","extractPosition","position","findKey","getLayoutConverter","curr","converted","Wrapper","fontFamily","display","marginTop","window","addEventListener","e","keyCode","target","document","body","preventDefault","App","Nav","icon","faChevronLeft","marginLeft","href","faCode","component","nav","ReactDOM","render","getElementById"],"mappings":"sKAYYA,E,8DCuUGC,EAtUM,CACnBC,MAAO,2BACPC,YAAa,qCACbC,QAAS,CACP,CACEF,MAAO,wDACPG,UAAW,CACT,2CACA,2CACA,cACA,cACA,kBACA,8BACA,wBACA,yBAEFC,UAAW,CAAC,IAAK,MAEnB,CACEJ,MAAO,yDACPG,UAAW,CACT,2CACA,2CACA,cACA,kBACA,sBACA,kBACA,kCACA,mCAEFC,UAAW,CAAC,IAAK,MAEnB,CACEJ,MAAO,qCACPG,UAAW,CACT,sBACA,sBACA,sBACA,wEACA,2CACA,2CACA,2CACA,4CAEFC,UAAW,CAAC,IAAK,IAAK,IAAK,MAE7B,CACEJ,MAAO,wDACPG,UAAW,CACT,2CACA,2CACA,cACA,cACA,kBACA,sBACA,kBACA,yBACA,0BAEFC,UAAW,CAAC,IAAK,MAEnB,CACEJ,MAAO,4CACPG,UAAW,CACT,gCACA,+EACA,qEACA,qEACA,qEACA,qEACA,mCAEA,gEACA,gEACA,gEACA,gEACA,gEACA,gEACA,4EAEA,gBACA,6BACA,8BACA,kCACA,sCACA,sDAEFC,UAAW,CAAC,IAAK,MAEnB,CACEJ,MAAO,yDACPG,UAAW,CACT,2CACA,2CACA,cACA,cACA,kBACA,kBACA,sBACA,yBACA,0BAEFC,UAAW,CAAC,IAAK,MAEnB,CACEJ,MAAO,4CACPG,UAAW,CACT,0CACA,+EACA,qEACA,gEACA,gEACA,gEACA,sBAEA,2BACA,+BACA,0CACA,4CACA,wDACA,6DACA,6DACA,wEACA,4EAGJ,CACEH,MAAO,wEACPG,UAAW,CACT,2CACA,2CACA,cACA,cACA,kBACA,kBACA,oBACA,oBACA,sBACA,2BACA,qCAGJ,CACEH,MAAO,8DACPG,UAAW,CACT,oDACA,oDAEA,4BACA,oCACA,yCACA,2CACA,8CACA,iDACA,iDACA,oDACA,oDACA,qDACA,wDACA,2DACA,2DACA,4DACA,8DACA,8DACA,gEACA,gEACA,kEACA,oEACA,wEAEA,oCACA,qDACA,uCACA,sDACA,wCACA,0DACA,sCACA,kEAGJ,CACEH,MAAO,2DACPG,UAAW,CACT,2CA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","file":"static/js/main.4a34b4c3.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport useKeypress from \"react-use-keypress\";\nimport styled, { keyframes } from \"styled-components/macro\";\n\ninterface Props {\n  sentence: string;\n  state: State;\n  index?: number;\n  total?: number;\n  done: () => void;\n}\n\nexport enum State {\n  Inactive = 1,\n  Active,\n  Done,\n}\n\nconst getColor = (s: State): string => {\n  switch (s) {\n    case State.Inactive:\n      return \"gray\";\n    case State.Active:\n      return \"black\";\n    case State.Done:\n      return \"green\";\n  }\n};\n\nconst getOpacity = (s: State): number => {\n  switch (s) {\n    case State.Inactive:\n      return 50;\n    case State.Active:\n      return 100;\n    case State.Done:\n      return 0;\n  }\n};\n\nclass UserInput {\n  private accepted = \"\";\n  private missTyped = \"\";\n\n  public concatinated = (): string => {\n    return this.accepted + this.missTyped;\n  };\n\n  public backspace = (): void => {\n    if (this.missTyped.length > 0) {\n      this.missTyped = this.missTyped.slice(0, -1);\n      return;\n    }\n\n    if (this.accepted.length > 0) {\n      this.accepted = this.accepted.slice(0, -1);\n      return;\n    }\n  };\n\n  // TODO: check char size\n  public add = (char: string, valid: boolean): void => {\n    if (valid) {\n      this.accepted += char;\n      return;\n    }\n\n    this.missTyped += char;\n    return;\n  };\n\n  public getAccepted = () => {\n    return this.accepted.replace(/ /gi, \"␣\");\n  };\n\n  public getMissTyped = () => {\n    return this.missTyped.replace(/ /gi, \"␣\");\n  };\n\n  public isEmpty = () => {\n    return this.accepted.length === 0 && this.missTyped.length === 0;\n  };\n\n  // TODO: I don't know a way to tell react that this object is actually changed\n  //       Creating another object can mitigate this problem but there should be simpler inexpensive way to do this\n  public clone = (): UserInput => {\n    const u = new UserInput();\n    u.accepted = this.accepted;\n    u.missTyped = this.missTyped;\n    return u;\n  };\n}\n\nconst lowers = Array.from({ length: 26 }, (_, i) => String.fromCharCode(\"a\".charCodeAt(0) + i));\nconst uppers = Array.from({ length: 26 }, (_, i) => String.fromCharCode(\"A\".charCodeAt(0) + i));\nconst space = \" \";\nconst trapKeys = lowers.concat(uppers, [space]);\n\nconst TypeTask = (props: Props) => {\n  // TODO: need to check Japanese Romaji Table\n  const valid = (typed: string) => {\n    return props.sentence.startsWith(typed);\n  };\n  const [typed, setTyped] = useState(new UserInput());\n\n  useKeypress(\"Backspace\", (_: KeyboardEvent) => {\n    if (props.state !== State.Active) {\n      return;\n    }\n    setTyped((current: UserInput) => {\n      current.backspace();\n      return current.clone();\n    });\n  });\n\n  useKeypress(trapKeys, (event: KeyboardEvent) => {\n    if (props.state !== State.Active) {\n      return;\n    }\n    if (event.metaKey) {\n      return;\n    }\n    if (event.ctrlKey) {\n      return;\n    }\n\n    setTyped((current: UserInput) => {\n      const challenge = current.concatinated() + event.key;\n      current.add(event.key, valid(challenge));\n      return current.clone();\n    });\n  });\n\n  useEffect(() => {\n    if (typed.getAccepted() === props.sentence.replace(/ /gi, \"␣\")) {\n      if (props.state !== State.Done) {\n        props.done();\n      }\n    }\n  });\n\n  useEffect(() => {\n    setTyped(new UserInput());\n  }, [props]);\n\n  const cardRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    if (props.state === State.Active && cardRef.current) {\n      cardRef.current.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n  }, [props.state]);\n\n  return (\n    <TaskCard theme={{ state: props.state }} ref={cardRef}>\n      {props.total && props.index && (\n        <div>\n          {props.index}/{props.total}\n        </div>\n      )}\n      <div style={{ color: getColor(props.state) }}>\n        <TaskSpan>{props.sentence.replace(/ /gi, \"␣\")}</TaskSpan>\n      </div>\n      <div>\n        <TaskSpan>{typed.getAccepted()}</TaskSpan>\n        <TaskSpan style={{ color: \"red\" }}>{typed.getMissTyped()}</TaskSpan>\n        {props.state === State.Active && typed.isEmpty() && (\n          <TaskSpan>\n            <Cursor />\n            <Placeholder>Please enter characters as above.</Placeholder>\n          </TaskSpan>\n        )}\n      </div>\n    </TaskCard>\n  );\n};\n\nexport default TypeTask;\n\nconst TaskSpan = styled.span`\n  position: relative;\n  font-size: 18px;\n  line-height: 24px;\n  letter-spacing: 2px;\n`;\n\nconst TaskCard = styled.div`\n  border-radius: 18px;\n  box-shadow: 0px 0px 10px 4px #dddddd;\n  height: ${(props) => (props.theme.state === State.Done ? 0 : 150)}px;\n  padding: ${(props) => (props.theme.state === State.Done ? 0 : 36)}px;\n  padding-left: 36px;\n  padding-right: 36px;\n  margin: ${(props) => (props.theme.state === State.Done ? 0 : 36)}px;\n  margin-left: 36px;\n  margin-right: 36px;\n  opacity: ${(props) => getOpacity(props.theme.state)}%;\n  transition: 0.1s;\n`;\n\nconst flashing = keyframes`\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 1;\n  }\n`;\n\nconst Cursor = styled.span`\n  position: absolute;\n  top: 2px;\n  left: 0;\n  bottom: 0;\n  display: block;\n  width: 2px;\n  height: 18px;\n  background-color: red;\n  animation: ${flashing} 0.5s linear infinite;\n  animation-direction: alternate;\n`;\n\nconst Placeholder = styled.p`\n  margin: 0;\n  margin-left: 8px;\n  font-size: 18px;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.4);\n`;\n","export interface Course {\n  title: string;\n  description?: string;\n  lessons: LessonData[]; // TODO: rename to Lesson after current `Lesson` component renamed to `LessonView`\n}\n\nexport interface LessonData {\n  title: string;\n  sentences: string[];\n  focusKeys?: string[];\n  scramble?: boolean;\n}\n\nconst abcd: Course = {\n  title: \"A Basic Course in Dvorak\",\n  description: \"Source: http://gigliwood.com/abcd/\", // TODO: fix link\n  lessons: [\n    {\n      title: \"Lesson 1 Introducing U and H: Home row, Index fingers\",\n      sentences: [\n        \"uuuu hhhh uuuu hhhh  uuuu hhhh uuuu hhhh\",\n        \"uuuu hhhh uuuu hhhh  uuuu hhhh uuuu hhhh\",\n        \"uh uh uh uh\",\n        \"hu hu hu hu\",\n        \"huh huh huh huh\",\n        \"uh huh uh huh uh huh uh huh\",\n        \"h u uh hu uhh huh uhh\",\n        \"h u uh hu uhh huh uhh\",\n      ],\n      focusKeys: [\"h\", \"u\"],\n    },\n    {\n      title: \"Lesson 2 Introducing E and T: Home row, Second fingers\",\n      sentences: [\n        \"eeee tttt eeee tttt  eeee tttt eeee tttt\",\n        \"eeee tttt eeee tttt  eeee tttt eeee tttt\",\n        \"et et et et\",\n        \"tee tee tee tee\",\n        \"tete tete tete tete\",\n        \"eet eet eet eet\",\n        \"t e et te teet tee teet tete et\",\n        \"t e et te teet tee teet tete et\",\n      ],\n      focusKeys: [\"t\", \"e\"],\n    },\n    {\n      title: \"Lesson 3 Comprehensive: E, H, T, U\",\n      sentences: [\n        \"eeee hhhh tttt uuuu\",\n        \"eeee hhhh tttt uuuu\",\n        \"eeee hhhh tttt uuuu\",\n        \"hue hue hue hue  tutu tutu tutu tutu  the the the the  he he he he he\",\n        \"teeth teeth teeth teeth  hut hut hut hut\",\n        \"thee thee thee thee  tutu tutu tutu tutu\",\n        \"eh he hue hut teeth teethe the thee tutu\",\n        \"eh he hue hut teeth teethe the thee tutu\",\n      ],\n      focusKeys: [\"t\", \"e\", \"h\", \"u\"],\n    },\n    {\n      title: \"Lesson 4 Introducing O and N: Home row, third fingers\",\n      sentences: [\n        \"oooo nnnn oooo nnnn  oooo nnnn oooo nnnn\",\n        \"oooo nnnn oooo nnnn  oooo nnnn oooo nnnn\",\n        \"no no no no\",\n        \"on on on on\",\n        \"non non non non\",\n        \"noon noon noon noon\",\n        \"ono ono ono ono\",\n        \"no non noon on noo ono\",\n        \"no non noon on noo ono\",\n      ],\n      focusKeys: [\"o\", \"n\"],\n    },\n    {\n      title: \"Lesson 5 Comprehensive, including O and N\",\n      sentences: [\n        \"eeee hhhh nnnn oooo tttt uuuu\",\n        \"en en en en  ho ho ho ho  ne ne ne ne  nu nu nu nu  oh oh oh oh  to to to to\",\n        \"hen hen hen hen  hoe hoe hoe hoe  hot hot hot hot  Hun Hun Hun Hun\",\n        \"nee nee nee nee  net net net net  not not not not  nun nun nun nun\",\n        \"nut nut nut nut  one one one one  out out out out  ten ten ten ten\",\n        \"TNT TNT TNT TNT  toe toe toe toe  ton ton ton ton  too too too too\",\n        \"tot tot tot tot  tun tun tun tun\",\n\n        \"hone hone hone hone  hoot hoot hoot hoot  hunt hunt hunt hunt\",\n        \"neon neon neon neon  none none none none  note note note note\",\n        \"noun noun noun noun  onto onto onto onto  Otto Otto Otto Otto\",\n        \"teen teen teen teen  tent tent tent tent  then then then then\",\n        \"thou thou thou thou  tone tone tone tone  toot toot toot toot\",\n        \"tote tote tote tote  tout tout tout tout  tune tune tune tune\",\n        \"tenet tenet tenet tenet  tenth tenth tenth tenth  tooth tooth tooth tooth\",\n\n        \"Tune the tone\",\n        \"Note the teen not the tutu\",\n        \"Ten hot teeth tout the tune\",\n        \"The one nut to tote out the hen\",\n        \"None hunt out the tenth one ton nun\",\n        \"Hunt the neon then toot out the tune onto the tent\",\n      ],\n      focusKeys: [\"o\", \"n\"],\n    },\n    {\n      title: \"Lesson 6 Introducing A and S: Home row, fourth fingers\",\n      sentences: [\n        \"aaaa ssss aaaa ssss  aaaa ssss aaaa ssss\",\n        \"aaaa ssss aaaa ssss  aaaa ssss aaaa ssss\",\n        \"as as as as\",\n        \"sa sa sa sa\",\n        \"sas sas sas sas\",\n        \"ass ass ass ass\",\n        \"sass sass sass sass\",\n        \"as a sass ass as a sas\",\n        \"as a sass ass as a sas\",\n      ],\n      focusKeys: [\"a\", \"s\"],\n    },\n    {\n      title: \"Lesson 7 Comprehensive, including A and S\",\n      sentences: [\n        \"aaaa eeee hhhh nnnn oooo ssss tttt uuuu\",\n        \"ah ah ah ah  an an an an  at at at at  ha ha ha ha  so so so so  us us us us\",\n        \"ash ash ash ash  San San San San  sat sat sat sat  sea sea sea sea\",\n        \"ease ease ease ease  east east east east  Haas Haas Haas Haas\",\n        \"Hans Hans Hans Hans  hash hash hash hash  sane sane sane sane\",\n        \"sash sash sash sash  Sean Sean Sean Sean  seat seat seat seat\",\n        \"Stan Stan Stan Stan\",\n\n        \"Sean hates tetanus shots\",\n        \"Eat the toast at ten to noon\",\n        \"The Taos sun shone as hot as Santa Anna\",\n        \"Anthea assesses the estate at South Tahoe\",\n        \"Hotshot Hanna uses these shoes that Shannon soon sees\",\n        \"At noon on the teahouse Aunt Tess hushes the nauseous host\",\n        \"Annette senses the sensuous sunset onset on the Athens sea\",\n        \"Tess Sutton notates the tenuous state that southeast Houston has seen\",\n        \"Ethan Ness attests to these Tennessee Senate OSHA statutes to shun Utah\",\n      ],\n    },\n    {\n      title: \"Lesson 8 Introducing I and D: Index finger stretching in the home row\",\n      sentences: [\n        \"iiii dddd iiii dddd  iiii dddd iiii dddd\",\n        \"iiii dddd iiii dddd  iiii dddd iiii dddd\",\n        \"id id id id\",\n        \"id id id id\",\n        \"did did did did\",\n        \"did did did did\",\n        \"Didi did id did i\",\n        \"Didi did id did i\",\n        \"uuuu hhhh iiii dddd\",\n        \"du du du du  hi hi hi hi\",\n        \"dud dud dud dud  hid hid hid hid\",\n      ],\n    },\n    {\n      title: \"Lesson 9 Comprehensive, including I and D (entire home row)\",\n      sentences: [\n        \"aaaa dddd eeee hhhh iiii nnnn oooo ssss tttt uuuu\",\n        \"aaaa dddd eeee hhhh iiii nnnn oooo ssss tttt uuuu\",\n\n        \"Tina is on hiatus instead\",\n        \"The statue is sent to Santa Anita\",\n        \"This session is tedious on the tendons\",\n        \"That Thai dish is intense on the sinuses\",\n        \"Onions stain satin so use this Tide on this\",\n        \"Dan Addison detonated the thousandth headstone\",\n        \"Estonian nationhood is a notion hidden in Asia\",\n        \"The tennis enthusiast hides the dots on his hands\",\n        \"Otis said that sand is the seed that Isis sent us\",\n        \"Ted Austin insinuated that Tunisia is in Indonesia\",\n        \"The Dissonant in the ninth edition hits on the Saudis\",\n        \"I insist that Adenine is in DNA and that andesine is not\",\n        \"Deanna and Eddie suntanned on the Tahitian seaside oasis\",\n        \"Indiana and Ohio do not need donated tissues and headsets\",\n        \"The attendant initiated an intense sound that suited Odessa\",\n        \"The dodo added nine and nineteen and attained nine thousand\",\n        \"Duane nodded to his sis as he situated his sedan in the shade\",\n        \"Dennis Hudson is hidden in a distant Tunisian hashish hideout\",\n        \"Nina and Dana hit the astonished attendee on the head in unison\",\n        \"Auntie Edith tends to hint that Edna heeds the ideas due to Satan\",\n        \"The idea that nineteen studious Dadaists assisted Einstein is asinine\",\n\n        \"Todd hesitated in his Datsun then\",\n        \"hit the Honda in the side in an instantaneous THUD\",\n        \"The thesis that Dante dated Death is\",\n        \"as inane as the attitude that Sade stood on Sadness\",\n        \"A destitute Sudanese assassin insists\",\n        \"that sainthood is indeed a handout to heathenish idiots\",\n        \"A thousand nude deadheads sustained\",\n        \"hideous headstands as studious atheists dissented and seethed\",\n      ],\n    },\n    {\n      title: \"Lesson 10 Introducing P and G: First fingers reaching up\",\n      sentences: [\n        \"gggg pppp gggg pppp  gggg pppp gggg pppp\",\n        \"gggg pppp gggg pppp  gggg pppp gggg pppp\",\n        \"pg pg pg pg  pg pg pg pg\",\n        \"gp gp gp gp  gp gp gp gp\",\n        \"gggg hhhh pppp uuuu\",\n        \"up up up up  hug hug hug hug  pug pug pug pug  pup pup pup pup\",\n        \"ugh ugh ugh ugh  Hugh Hugh Hugh Hugh  Pugh Pugh Pugh Pugh\",\n      ],\n    },\n    {\n      title: \"Lesson 11 Comprehensive, including P and G\",\n      sentences: [\n        \"aaaa dddd eeee gggg hhhh iiii nnnn oooo pppp ssss tttt uuuu\",\n        \"aaaa dddd eeee gggg hhhh iiii nnnn oooo pppp ssss tttt uuuu\",\n\n        \"The Huntington is in Pasadena\",\n        \"He has one pip on his insignia\",\n        \"I did not see Patton Against The Gestapo\",\n        \"I put the sponge onto the peg on the spigot\",\n        \"She did not postpone the hepatitis diagnosis\",\n        \"The USPS sent postage high on August eighteenth\",\n        \"Pete stops as he peeps at the Pepsi and doughnuts\",\n        \"Nothing is as stupendous as an independent opinion\",\n        \"I did not design this gadget that ignites potatoes\",\n        \"Neptune is the sea god and is the god Poseidon too\",\n        \"Do not dispute that pogo is as ingenious as ping pong\",\n        \"The suggestion that toothpaste is poisonous is stupid\",\n        \"I suggest that one not go to Saigon in a ship tonight\",\n        \"Giuseppe pigged out on antipasto and pungent spaghetti\",\n        \"The pianist is a passionate sap and sings insipid songs\",\n        \"Angus thought he needed a tenspot to snap up the headphones\",\n        \"Gina Esposito supposed that the signpost in Spain said STOP\",\n        \"The Spanish poet happened to paint his house indigo and sepia\",\n        \"Gus is assigned to get genuine snapshots inside the USGS ship\",\n        \"This pennant said Hastings on it and that one said Penn State\",\n        \"Gas Seepage in the Peugeot stopped the engine at the guidepost\",\n        \"Patti Eng has a PhD in the thespian sagas on Oedipus and Antigone\",\n        \"Tonight the teenage peasants appease the pagan suntanning goddess\",\n        \"The penguin gasped as its appendage pushed past the Patagonian ship\",\n        \"Seeing an aging ape eating pudding in a teaspoon is not too desponding\",\n        \"In this episode the patient hostages hug and sing despite the gunshots\",\n        \"Espionage at DuPont and Hughes is upsetting to the GOP and the Pentagon\",\n        \"Doug pauses as he puts the poinsettias and sagging petunias in the teapot\",\n        \"The indignant patient ingested a potent dosage to suspend his indigestion\",\n        \"Upsetting gossip at the pageant had Stephanie and Gina sidestepping opponents\",\n\n        \"Pat goes sightseeing at the pagoda\",\n        \"in Shanghai despite the gunshots at its apogee\",\n        \"The passage on Pegasus and the Aegean Sea\",\n        \"upon page eight is a poignant adaptation\",\n        \"In hindsight Stonehenge suggests the\",\n        \"indigenous geniuses had to depend on the sun and its phases\",\n        \"Daphne Stephenson has gone to Ghana and\",\n        \"Ethiopia and Uganda to audiotape the distinguished singing\",\n        \"The Pope stood in position atop the\",\n        \"highest point in Santiago as an aghast Angie Diego ingested peanuts\",\n      ],\n    },\n    {\n      title: \"Lesson 12 Introducing . and C: Second fingers reaching up\",\n      sentences: [\n        \"cccc .... cccc ....  cccc .... cccc ....\",\n        \"cccc .... cccc ....  cccc .... cccc ....\",\n        \"eeee cccc tttt ....\",\n        \"ec ec ec ec  tc tc tc tc\",\n        \"ec ec ec ec  tc tc tc tc\",\n        \"c. c. c. c.  t. t. t. t.  e. e. e. e.\",\n        \"c. c. c. c.  t. t. t. t.  e. e. e. e.\",\n        \"etc. etc. etc. etc.  etc. etc. etc. etc.\",\n        \"etc. etc. etc. etc.  etc. etc. etc. etc.\",\n      ],\n    },\n    {\n      title: \"Lesson 13 Comprehensive, including . and C\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 14 Introducing , and R: Third fingers reaching up\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 15 Comprehensive, including , and R\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 16 Introducing ' and L: Fourth fingers reaching up\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 17 Comprehensive, including ' and L\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 18 Introducing Y and F: Index fingers stretching up\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 19 Comprehensive, including Y and F (full upper/home rows)\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 20 Introducing K and M: Index fingers reaching down\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 21 Comprehensive, including K and M\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 22 Introducing J and W: Second fingers reaching down\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 23 Comprehensive, including J and W\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 24 Introducing Q and V: Third fingers reaching down\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 25 Comprehensive, including Q and V\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 26 Introducing ; and Z: Fourth fingers reaching down\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 27 Comprehensive, including ; and Z\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 28 Introducing X and B: Index fingers stretching down\",\n      sentences: [\"to be updated\"],\n    },\n    {\n      title: \"Lesson 29 Comprehensive, including X and B (This is it, folks!)\",\n      sentences: [\"to be updated\"],\n    },\n  ],\n};\n\nexport default abcd;\n","import React from \"react\";\nimport styled from \"styled-components/macro\";\n\ninterface Layout {\n  rows: Row[];\n}\n\ninterface Row {\n  rowIndex: number;\n  keys: Key[];\n}\n\ninterface Key {\n  face: string;\n}\n\nexport enum LayoutName {\n  Dvorak = \"dvorak\",\n  LDvorak = \"ldvorak\",\n  RDvorak = \"rdvorak\",\n  Qwerty = \"qwerty\",\n  LRDvorak = \"lrdvorak\",\n}\n\ninterface Props {\n  layout: LayoutName;\n  activeKeys?: Set<string>;\n}\n\nconst stringToKeys = (s: string): Key[] => {\n  return s.split(\"\").map((s) => {\n    return { face: s };\n  });\n};\n\nconst qwerty: Layout = {\n  rows: [\n    { rowIndex: 0, keys: stringToKeys(`1234567890-=`) },\n    { rowIndex: 1, keys: stringToKeys(\"QWERTYUIOP[\") },\n    { rowIndex: 2, keys: stringToKeys(\"ASDFGHJKL;'\") },\n    { rowIndex: 3, keys: stringToKeys(\"ZXCVBNM,./\") },\n  ],\n};\n\nconst dvorak: Layout = {\n  rows: [\n    { rowIndex: 0, keys: stringToKeys(`1234567890[]`) },\n    { rowIndex: 1, keys: stringToKeys(`',.PYFGCRL/`) },\n    { rowIndex: 2, keys: stringToKeys(\"AOEUIDHTNS-\") },\n    { rowIndex: 3, keys: stringToKeys(\";QJKXBMWVZ\") },\n  ],\n};\n\nconst lrdvorak: Layout = {\n  rows: [\n    { rowIndex: 0, keys: stringToKeys(\"![{(=+)}]*&`\") },\n    { rowIndex: 1, keys: stringToKeys(`',.PYFGCRL/`) },\n    { rowIndex: 2, keys: stringToKeys(\"AOEUIDHTNS-\") },\n    { rowIndex: 3, keys: stringToKeys(\";QJKXBMWVZ\") },\n  ],\n};\n\nconst ldvorak: Layout = {\n  rows: [\n    { rowIndex: 0, keys: stringToKeys(`[]?PFMLJ4321`) },\n    { rowIndex: 1, keys: stringToKeys(`;QBYURSO.65`) },\n    { rowIndex: 2, keys: stringToKeys(\"-KCDTHEAZ87\") },\n    { rowIndex: 3, keys: stringToKeys(\"'XGVWNI,09\") },\n  ],\n};\n\nconst rdvorak: Layout = {\n  rows: [\n    { rowIndex: 0, keys: stringToKeys(`1234JLMFP/[]`) },\n    { rowIndex: 1, keys: stringToKeys(`56Q.ORSUYB;`) },\n    { rowIndex: 2, keys: stringToKeys(\"78ZAEHTDCK-\") },\n    { rowIndex: 3, keys: stringToKeys(\"90X,INWVG'\") },\n  ],\n};\n\ninterface Position {\n  row: number;\n  column: number;\n}\n\nconst extractPosition = (layout: Layout, key: string): Position | null => {\n  for (let row = 0; row < layout.rows.length; row++) {\n    for (let column = 0; column < layout.rows[row].keys.length; column++) {\n      if (layout.rows[row].keys[column].face.toLowerCase() === key.toLowerCase()) {\n        return { row, column };\n      }\n    }\n  }\n\n  return null;\n};\n\nconst findKey = (layout: Layout, position: Position): string | null => {\n  const row = layout.rows[position.row];\n  if (row === undefined) {\n    return null;\n  }\n\n  const key = row.keys[position.column];\n  if (key === undefined) {\n    return null;\n  }\n\n  return key.face.toLowerCase();\n};\n\ntype converter = (key: string) => string | null;\n\nexport const getLayoutConverter = (from: LayoutName, to: LayoutName): converter => {\n  const fromLayout = layouts.get(from);\n  if (fromLayout === undefined) {\n    return (_: string) => null;\n  }\n\n  const toLayout = layouts.get(to);\n  if (toLayout === undefined) {\n    return (_: string) => null;\n  }\n\n  return (key: string): string | null => {\n    const p = extractPosition(fromLayout, key);\n    if (p === null) {\n      return null;\n    }\n\n    return findKey(toLayout, p);\n  };\n};\n\nconst layouts = new Map<LayoutName, Layout>([\n  [LayoutName.Dvorak, dvorak],\n  [LayoutName.Qwerty, qwerty],\n  [LayoutName.LDvorak, ldvorak],\n  [LayoutName.RDvorak, rdvorak],\n  [LayoutName.LRDvorak, lrdvorak],\n]);\n\nconst Keyboard = (props: Props) => {\n  const layoutConfig = layouts.get(props.layout);\n  if (layoutConfig === undefined) {\n    return <div>not found</div>;\n  }\n\n  const layout = layoutConfig.rows.map((r) => {\n    const keys = r.keys.map((k) => {\n      return (\n        <KeyView key={k.face} theme={{ active: props.activeKeys?.has(k.face.toLowerCase()) }}>\n          {k.face}\n        </KeyView>\n      );\n    });\n    return (\n      <RowView key={r.rowIndex} theme={{ index: r.rowIndex }}>\n        {keys}\n      </RowView>\n    );\n  });\n\n  return <div>{layout}</div>;\n};\n\nexport default Keyboard;\n\n// TODO: better font\nconst KeyView = styled.div`\n  font-family: Helvetica;\n  font-size: 18px;\n  font-weight: bold;\n  color: ${(props) => (props.theme.active ? \"lightgray\" : \"gray\")};\n  background: ${(props) => (props.theme.active ? \"orange\" : \"white\")};\n  display: flex;\n  width: 48px;\n  height: 48px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  box-shadow: ${(props) => (props.theme.active ? \"none\" : \"0px 0px 10px 4px #dddddd\")};\n  margin: 8px;\n  transition: 0.1s;\n`;\n\nconst RowView = styled.div`\n  display: flex;\n  margin: auto;\n  padding-left: ${(props) => props.theme.index * 16}px;\n  // padding-right: ${(props) => (3 - props.theme.index) * 16}px;\n`;\n","import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { Course } from \"./courses\";\nimport TypeTask, { State } from \"./TypeTask\";\n\ninterface Props {\n  course: Course;\n}\n\nconst Lesson = (props: Props) => {\n  const { lessonId } = useParams();\n  const id = parseInt(lessonId);\n  const lessonData = props.course.lessons[id - 1];\n\n  const [index, setIndex] = useState(0);\n  const [doneIdx, setDoneIdx] = useState(new Set<number>());\n\n  if (lessonData === undefined) {\n    // TODO: better 404\n    return <div>404</div>;\n  }\n\n  const nextTask = (idx: number) => {\n    return () => {\n      setDoneIdx((current) => {\n        return current;\n      });\n      setIndex((_: number) => {\n        return idx + 1;\n      });\n    };\n  };\n\n  const tasks = lessonData.sentences.map((s, idx) => {\n    if (doneIdx.has(idx)) {\n      // eslint-disable-next-line react/no-array-index-key\n      return <TypeTask sentence={s} done={nextTask(idx)} key={idx} state={State.Done} />;\n    }\n\n    const state: State = idx === index ? State.Active : State.Inactive;\n    return (\n      <TypeTask\n        sentence={s}\n        done={nextTask(idx)}\n        // eslint-disable-next-line react/no-array-index-key\n        key={idx}\n        state={state}\n        index={idx + 1}\n        total={lessonData.sentences.length}\n      />\n    );\n  });\n\n  return (\n    <div>\n      <div>\n        <h3>{lessonData.title}</h3>\n      </div>\n      <div>{tasks}</div>\n    </div>\n  );\n};\n\nexport default Lesson;\n","import React, { useState } from \"react\";\nimport { Redirect, Route, Switch, useHistory, useLocation, useParams, useRouteMatch } from \"react-router-dom\";\nimport styled from \"styled-components/macro\";\nimport abcd, { Course, LessonData } from \"./courses\";\nimport Lesson from \"./Lesson\";\nimport Keyboard, { LayoutName } from \"./Keyboard\";\n\nconst courses = new Map<string, Course>([[\"abcd\", abcd]]);\n\nconst useQuery = () => {\n  return new URLSearchParams(useLocation().search);\n};\n\nconst CourseView = (_: {}) => {\n  const { courseSlug } = useParams();\n  const previewIdFromQuery = parseInt(useQuery().get(\"preview\") || \"\", 10);\n  const { path, url } = useRouteMatch();\n  const [previewLesson, setPreviewLesson] = useState<number | undefined>(previewIdFromQuery || undefined);\n  const history = useHistory();\n  const course = courses.get(courseSlug);\n  if (course === undefined) {\n    // TODO: better 404\n    return <div>404</div>;\n  }\n  const onClickBar = (lesson: number) => {\n    setPreviewLesson((current) => {\n      if (current === lesson) {\n        // TODO: calling history.push breaks `Start` Button\n        // history.push(url);\n        return undefined;\n      }\n      // TODO: calling history.push breaks `Start` Button\n      // history.push(`${url}?preview=${lesson}`);\n      return lesson;\n    });\n  };\n\n  const lessonList = course.lessons.map((l: LessonData, idx: number) => {\n    // TODO: better link management\n    const theme = { previewState: previewLesson === idx + 1 };\n    return (\n      <Li key={l.title}>\n        <RoundBar\n          theme={theme}\n          onClick={() => {\n            onClickBar(idx + 1);\n          }}\n        >\n          <FlexSpan>\n            <Circle>{idx + 1}</Circle>\n            {l.title}\n            <RoundButton\n              theme={theme}\n              onClick={() => {\n                history.push(`${url}/lessons/${idx + 1}`);\n              }}\n            >\n              Start\n            </RoundButton>\n          </FlexSpan>\n          <TaskPreview theme={theme}>\n            <div style={{ width: \"720px\", margin: \"auto\", marginBottom: \"16px\" }}>\n              <Keyboard layout={LayoutName.Dvorak} activeKeys={new Set(l.focusKeys)} />\n            </div>\n            {l.sentences.map((s: string, i: number) => (\n              // eslint-disable-next-line react/no-array-index-key\n              <p key={`${s}${i}`} style={{ margin: \"8px\" }}>\n                {s}\n              </p>\n            ))}\n          </TaskPreview>\n        </RoundBar>\n      </Li>\n    );\n  });\n  return (\n    <Center>\n      <div>\n        <h2>{course.title}</h2>\n        {/* {course.description && <p>{course.description}</p>} */}\n      </div>\n\n      <Switch>\n        <Route exact path={path}>\n          <Ul>{lessonList}</Ul>\n        </Route>\n        <Route exact path={`${path}/lessons`}>\n          <Redirect to={url} />\n        </Route>\n        <Route path={`${path}/lessons/:lessonId`}>\n          <Lesson course={course} />\n        </Route>\n      </Switch>\n    </Center>\n  );\n};\n\nexport default CourseView;\n\n// TODO: better font\nconst Center = styled.div`\n  width: 960px;\n  margin: auto;\n  font-family: Helvetica;\n`;\n\nconst Li = styled.li`\n  list-style-type: none;\n`;\n\nconst Ul = styled.ul`\n  margin: 0;\n  padding: 0;\n`;\n\nconst FlexSpan = styled.span`\n  display: flex;\n  align-items: center;\n`;\n\nconst bigger = 12;\n\nconst RoundBar = styled.span`\n  box-sizing: border-box;\n  display: block;\n  cursor: default;\n\n  height: ${(props) => (props.theme.previewState ? 500 : 48)}px;\n  box-shadow: ${(props) => (props.theme.previewState ? \"0px 0px 10px 4px #CCCCCC\" : \"none\")};\n  border-radius: 24px;\n\n  padding: ${(props) => 6 + (props.theme.previewState ? bigger : 0)}px;\n\n  margin-left: ${(props) => (props.theme.previewState ? -bigger : 0)}px;\n  margin-right: ${(props) => (props.theme.previewState ? -bigger : 0)}px;\n  margin-top: ${(props) => (props.theme.previewState ? 2 * bigger : 0)}px;\n  margin-bottom: ${(props) => (props.theme.previewState ? 2 * bigger : 0)}px;\n  color: black;\n\n  align-items: start;\n  text-decoration: none;\n  transition: 0.2s;\n  transition-timing-function: ease;\n\n  &:hover {\n    color: black;\n    box-shadow: 0px 0px 10px 4px #dddddd;\n  }\n\n  &:focus {\n    height: 300px;\n  }\n`;\n\nconst Circle = styled.div`\n  box-sizing: border-box;\n  display: flex;\n\n  background-color: #00a2ff;\n  color: white;\n  height: 36px;\n  width: 36px;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  border-radius: 50%;\n  margin-right: 16px;\n`;\n\nconst RoundButton = styled.button`\n  box-sizing: border-box;\n  opacity: ${(props) => (props.theme.previewState ? 100 : 0)}%;\n  display: flex;\n\n  background-color: #00a2ff;\n  color: white;\n  height: 36px;\n  width: 72px;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  border-radius: 18px;\n  border: none;\n\n  margin-left: auto;\n  transition: 0.2s;\n  transition-timing-function: ease;\n\n  ${RoundBar}:hover & {\n    opacity: 100%;\n  }\n\n  &:hover {\n    box-shadow: 0px 0px 10px 4px #dddddd;\n  }\n  &:focus {\n    border: none;\n    outline: none;\n  }\n`;\n\nconst TaskPreview = styled.div`\n  margin-top: 16px;\n  margin-left: 48px;\n  overflow: hidden;\n  height: ${(props) => (props.theme.previewState ? 400 : 0)}px;\n  opacity: ${(props) => (props.theme.previewState ? 100 : 0)}%;\n  transition: 0.2s;\n  transition-timing-function: ease;\n`;\n","import React, { useState, useMemo } from \"react\";\nimport useKeypress from \"react-use-keypress\";\nimport Keyboard, { LayoutName, getLayoutConverter } from \"./Keyboard\";\nimport styled from \"styled-components/macro\";\n\nconst lowers = Array.from({ length: 26 }, (_, i) => String.fromCharCode(\"a\".charCodeAt(0) + i));\nconst uppers = Array.from({ length: 26 }, (_, i) => String.fromCharCode(\"A\".charCodeAt(0) + i));\nconst symbols = ` ',.;![{(=+)}]*`.split(\"\");\nconst trapKeys = lowers.concat(uppers, symbols);\n\nconst VirtualKeyboard = () => {\n  const [logicalLayout, setLogicalLayout] = useState(LayoutName.Dvorak);\n  const [physicalLayout, setPhysicalLayout] = useState(LayoutName.Dvorak);\n  const [activeKeys, setActiveKeys] = useState(new Set<string>());\n  const convert: (key: string) => string | null = useMemo(() => getLayoutConverter(physicalLayout, logicalLayout), [\n    physicalLayout,\n    logicalLayout,\n  ]);\n\n  // TODO: get key up event to deactivate\n  useKeypress(trapKeys, (event: KeyboardEvent) => {\n    if (event.metaKey) {\n      return;\n    }\n    if (event.ctrlKey) {\n      return;\n    }\n\n    setActiveKeys((curr) => {\n      const converted = convert(event.key);\n      if (converted === null) {\n        return curr;\n      }\n\n      return new Set<string>([converted]);\n    });\n  });\n\n  const layouts = [LayoutName.Dvorak, LayoutName.Qwerty, LayoutName.LDvorak, LayoutName.RDvorak, LayoutName.LRDvorak];\n\n  return (\n    <Wrapper>\n      <div>\n        <h3 style={{ fontFamily: \"Helvetica\" }}>physical layout</h3>\n        <div style={{ display: \"flex\" }}>\n          {layouts.map((l) => {\n            return (\n              <RoundButton\n                theme={{ active: physicalLayout === l }}\n                onClick={() => {\n                  setPhysicalLayout(l);\n                }}\n                key={l}\n              >\n                {l}\n              </RoundButton>\n            );\n          })}\n        </div>\n      </div>\n      <div>\n        <h3 style={{ fontFamily: \"Helvetica\" }}>logical layout</h3>\n        <div style={{ display: \"flex\" }}>\n          {layouts.map((l) => {\n            return (\n              <RoundButton\n                theme={{ active: logicalLayout === l }}\n                onClick={() => {\n                  setLogicalLayout(l);\n                }}\n                key={l}\n              >\n                {l}\n              </RoundButton>\n            );\n          })}\n        </div>\n      </div>\n      <div style={{ marginTop: \"16px\" }}>\n        <Keyboard layout={logicalLayout} activeKeys={activeKeys} />\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default VirtualKeyboard;\n\nconst Wrapper = styled.div`\n  width: 780px;\n  margin: auto;\n`;\n\nconst RoundButton = styled.button`\n  box-sizing: border-box;\n  display: flex;\n\n  background-color: ${(props) => (props.theme.active ? \"#00a2ff\" : \"white\")};\n  color: ${(props) => (props.theme.active ? \"white\" : \"gray\")};\n  height: 36px;\n  width: 72px;\n  align-items: center;\n  justify-content: center;\n  font-weight: bold;\n  border-radius: 18px;\n  border-color: gray;\n  border: ${(props) => (props.theme.active ? \"none\" : \"solid\")};\n  border-width: 2px;\n\n  margin: 8px;\n\n  transition: 0.2s;\n  transition-timing-function: ease;\n\n  &:focus {\n    border: none;\n    outline: 0;\n  }\n`;\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect } from \"react-router-dom\";\nimport CourseView from \"./CourseView\";\nimport VirtualKeyboard from \"./VirtualKeyboard\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft, faCode } from \"@fortawesome/free-solid-svg-icons\";\nimport styled from \"styled-components/macro\";\n\nwindow.addEventListener(\"keydown\", function (e) {\n  if (e.keyCode === 32 && e.target === document.body) {\n    e.preventDefault();\n  }\n});\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <div>\n        <Nav>\n          <Link to=\"/\">\n            <FontAwesomeIcon icon={faChevronLeft} />\n          </Link>\n          <a style={{ marginLeft: \"auto\" }} href=\"https://github.com/potsbo/fasty-frontend\">\n            <FontAwesomeIcon icon={faCode} />\n          </a>\n        </Nav>\n\n        {/* A <Switch> looks through its children <Route>s and\n        renders the first one that matches the current URL. */}\n        <Switch>\n          <Route exact path=\"/\">\n            <Redirect to=\"/courses/abcd\" />\n          </Route>\n          <Route path=\"/courses/:courseSlug\" component={CourseView} />\n          <Route path=\"/try\">\n            <VirtualKeyboard />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n\nconst Nav = styled.nav`\n  padding: 8px;\n  border-bottom: black;\n  display: flex;\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}